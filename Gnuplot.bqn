IsStr  â† (1==)â—¶0â€¿(âˆ§Â´2=â€¢TypeÂ¨)
AssertStr â† ("Expected string, got: " âˆ¾â€¢Repr)!IsStr
StrSplit â† (âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢
StrFmt â† '%'{ğ•—{âˆ¾1(â†‘âˆ¾Â·â¥Šğ•©â‰Ë˜â†“)ğ•¨âŠ”Ëœ(1-Ëœâˆ¾âŸœ0Â¬âŠ¸Ã—1+`âˆ¾âŸœ1)ğ•—=ğ•¨}âŸœ(<âŸ(2-â‰¡))}
Replace â† {aâ€¿bğ•Šğ•©: bÂ¨âŒ¾((a=ğ•©)âŠ¸/)ğ•©}
FmtData â† (âŸ¨"Â¯-","â€¿ "âŸ©ReplaceÂ´Ëœâ€¢Repr)Â¨ <Ë˜âŸ(1<=)

Gnuplot â‡ {ğ•Š options:

  Set â† {âˆ¾{"set "âˆ¾ğ•©âˆ¾"; "}Â¨âˆ¾âŸ(â‰¡-2Ë™)(0â‰ â‰ Â¨)âŠ¸/((@+10)StrSplit AssertStrâŠ¸âŠ¢)âš‡1 ğ•©}

  path â† â€¢wdpath
  fileName â† {ğ•Šn: tcâ†0 â‹„ {ğ•ŠâŸ(âŠ‘âŠ¢<âŠ¸âˆŠâ€¢file.Listâˆ˜path) n StrFmt â€¢Repr tc+â†©1}} "temp_data%.txt"
  tmpFiles â† {
    files â† 2â€¿0â¥ŠâŸ¨âŸ©
    Add â‡ {files âˆ¾Ë˜â†© (n â† path âˆ¾ '/' âˆ¾ FileName @) âˆ¾â—‹< FmtData ğ•© â‹„ "'"âˆ¾nâˆ¾"'"}
    Write  â‡ {ğ•¤ â‹„ â€¢file.LinesÂ¨Ëfiles}
    Remove â‡ {ğ•¤ â‹„ â€¢Sh "rm"<âŠ¸âˆ¾ âŠfiles}
  }

  plt â† {
    plots â† âŸ¨(Set options)â€¿""â€¿""âŸ©
    Pfx â† {
      plots{""âŠ¸â‰¡â—¶âŸ¨âŠ¢âŠ£"mixing plot and splot"!ğ•©âŠ¸â‰¡, ğ•©âŠ¸âˆ¾âŸ©âŒ¾(1âŠ‘Â¯1âŠ‘âŠ¢)ğ•¨}â†© ğ•©
    }
    Add â‡ {plots{âˆ¾âŸœğ•©âŒ¾(2âŠ‘Â¯1âŠ‘âŠ¢)ğ•¨}â†©ğ•©}','âˆ¾Ëœ{
      ğ•¨ğ•Šfâ€¿o: (ğ•¨ğ•Šf)âˆ¾' 'âˆ¾AssertStrâŠ¸âŠ¢o;
      Pfx ğ•¨
      IsStrâ—¶tmpFiles.Addâ€¿âŠ¢ ğ•©
    } 
    MultiAdd â‡ {ğ•Šptype:{ 
      plotsâˆ¾âŸœ<â†©ğ•¨(""â€¿""âˆ¾ËœâŸœ<""âŠ˜(Set âŠ£))ğ•©
      ptypeâŠ¸AddÂ¨ğ•©
    }}
    Fmt â‡ {ğ•¤â‹„ âˆ¾';'âˆ¾Â´Â¨plots}
  }
  plotâ€¿sPlot â‡ {ğ•©âŠ¸plt.Add}Â¨"plot "â€¿"splot "
  multiPlotâ€¿multiSPlot â‡ plt.MultiAddÂ¨"plot "â€¿"splot "

  Show â‡ {ğ•¤
    tmpFiles.Write @
    â€¢Show 1âŠ‘ â€¢Sh "gnuplot"â€¿"-p"â€¿"-e"âˆ¾âŸœ<plt.Fmt @
    tmpFiles.Remove @
  }
  Debug â‡ {ğ•¤ â‹„ â€¢Show plt.Fmt @}
}
